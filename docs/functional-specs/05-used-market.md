# 05 - Used Vehicle Market

## Overview

The used market is a game system that offers used vehicles at reduced prices. This section allows viewing and editing the vehicles currently for sale on this market, and adding new vehicles from the game catalog.

## Vehicles for Sale List

### Display
Each vehicle for sale is displayed with:
- **Vehicle image** (when game path is configured)
- **Vehicle name** (derived from the XML path)
- **Catalog price** (new price from the game catalog, when available)
- **Current sale price**
- **Discount** (percentage reduction from catalog price, when available)
- **Wear** (percentage, 0% = new, 100% = heavily worn)
- **Damage** (percentage)
- **Time remaining** before removal from sale (in in-game days)
- **Usage time** (in hours)
- **Origin**: automatically generated by the game or listed for sale by the player

The catalog price and discount columns are only displayed when the game path is configured and the vehicle catalog has been loaded successfully. Vehicles not found in the catalog (e.g., missing mods) display "—".

## Editing a Vehicle for Sale

### Catalog Price Info
When the catalog price is available, the editor sheet displays an info block showing:
- **New price**: the catalog price of the vehicle when bought new
- **Discount**: the calculated percentage reduction from catalog price

### Simple Mode
- **Price**: edit the vehicle's sale price
- **Time remaining**: extend or reduce the time the vehicle is available for sale
- **Wear**: edit the wear level (0 = new, 1 = fully worn)
- **Damage**: edit the damage level (0 = none, 1 = destroyed)

### Advanced Mode
- **Age**: edit the displayed age of the vehicle
- **Usage time**: edit the hours counter
- **Purchased configuration**: view the vehicle's configuration (color, options)

## Quick Actions

- **"Reset to New"**: sets wear and damage to 0, age to 0, hours to 0
- **"Bargain Price"**: reduces the price to 10% of its current value
- **"Extend Sale"**: adds 30 days of availability

## Removing a Vehicle from the Market

- Remove a vehicle from the used market
- Confirmation required before deletion

## Adding a Vehicle to the Market

Requires the game path to be configured in settings.

### Vehicle Catalog Browser
- Loads the full vehicle catalog from the game files (base game, DLCs, and mods)
- Filters: text search, brand, category, source (base game / mod)
- Displays vehicle image, name, brand, and catalog price
- Grid layout for browsing

### Vehicle Configuration
Once a vehicle is selected from the catalog:
- **Price / Discount**: bidirectional input — editing the discount recalculates the price, and vice versa
- **Wear**: slider 0-100%
- **Damage**: slider 0-100%
- **Age**: in days
- **Operating hours**: hours counter
- **Time left**: days remaining on the market (default: 30)

The vehicle is added to the market with the configured values and appears in the sale list with a "New" badge.
